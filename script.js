// --- ╪з┘Д╪к╪▒╪м┘Е╪з╪к ---
const translations = {
  ar: {
    welcome: '┘Е╪▒╪н╪и╪з┘Л ╪и┘Г ┘Б┘К Bayan Salary',
    desc: '╪о╪п┘Е╪й ┘Е┘В╪п┘Е╪й ┘Е┘Ж ╪з┘Д╪и┘Ж┘Г ╪з┘Д╪╣╪▒╪и┘К ╪з┘Д┘И╪╖┘Ж┘К (ANB)',
    home: '╪з┘Д╪▒╪ж┘К╪│┘К╪й',
    account: '┘Г╪┤┘Б ╪з┘Д╪н╪│╪з╪и',
    transfer: '╪з┘Д╪к╪н┘И┘К┘Д',
    salary: '╪к╪к╪и╪╣ ╪з┘Д╪▒╪з╪к╪и',
    atm: '╪г┘В╪▒╪и ╪╡╪▒╪з┘Б',
    support: '╪з┘Д╪п╪╣┘Е ╪з┘Д┘Б┘Ж┘К',
    back: '╪╣┘И╪п╪й',
    update: '╪к╪н╪п┘К╪л ╪з┘Д╪╣╪п',
    confirm: '╪к╪г┘Г┘К╪п ╪з┘Д╪к╪н┘И┘К┘Д',
    transfer_money: '╪к╪н┘И┘К┘Д ╪з┘Д╪г┘Е┘И╪з┘Д',
    recipient: '╪з┘Д┘Е╪│╪к┘Д┘Е:',
    amount: '╪з┘Д┘Е╪и┘Д╪║ (╪▒.╪│):',
    note: '┘Е┘Д╪з╪н╪╕╪й:',
    date: '╪з┘Д╪к╪з╪▒┘К╪о',
    desc: '╪з┘Д┘И╪╡┘Б',
    amount_col: '╪з┘Д┘Е╪и┘Д╪║ (╪▒.╪│)',
    salary_transfer: '╪к╪н┘И┘К┘Д ╪▒╪з╪к╪и',
    electricity_bill: '┘Б╪з╪к┘И╪▒╪й ╪з┘Д┘Г┘З╪▒╪и╪з╪б',
    water_bill: '┘Б╪з╪к┘И╪▒╪й ╪з┘Д┘Е┘К╪з┘З',
    fuel_purchase: '╪┤╪▒╪з╪б ╪и┘Ж╪▓┘К┘Ж',
    restaurant_purchase: '╪┤╪▒╪з╪б ┘Е┘Ж ┘Е╪╖╪╣┘Е',
    balance: '╪▒╪╡┘К╪п ╪з┘Д╪н╪│╪з╪и:',
    phone: '╪з┘Д┘З╪з╪к┘Б: 0551764832',
    email: '╪з┘Д╪и╪▒┘К╪п: raa7240@gmail.com',
    address: '╪з┘Д╪▒┘К╪з╪╢╪М ╪┤╪з╪▒╪╣ ╪з┘Д┘Е┘Д┘Г ┘Б┘З╪п',
    account_desc: '╪╣╪▒╪╢ ╪▒╪╡┘К╪п┘Г ┘И╪к┘Б╪з╪╡┘К┘Д ╪з┘Д┘Е╪╣╪з┘Е┘Д╪з╪к',
    transfer_desc: '╪к╪н┘И┘К┘Д ╪з┘Д╪г┘Е┘И╪з┘Д ╪и╪│┘З┘И┘Д╪й ┘И╪в┘Е╪з┘Ж',
    salary_desc: '┘Г┘Е ┘К┘И┘Е ╪и┘В┘К ╪╣┘Д┘Й ╪з┘Д╪▒╪з╪к╪и╪Я',
    atm_desc: '╪з╪╣╪л╪▒ ╪╣┘Д┘Й ╪г┘В╪▒╪и ╪╡╪▒╪з┘Б ╪и┘Ж┘Г┘К',
    support_desc: '┘Д╪г┘К ╪з╪│╪к┘Б╪│╪з╪▒╪М ┘Ж╪н┘Ж ┘З┘Ж╪з',
    atm_desc2: '┘Ж╪╣╪▒╪╢ ┘Д┘Г ╪г┘В╪▒╪и ┘Б╪▒┘И╪╣ ╪з┘Д╪и┘Ж┘Г ╪з┘Д╪╣╪▒╪и┘К ╪з┘Д┘И╪╖┘Ж┘К (ANB)',
    sara: '╪│╪з╪▒╪й',
    raghd: '╪▒╪║╪п',
    jawhara: '╪з┘Д╪м┘И┘З╪▒╪й',
    find_atm: '╪з╪и╪н╪л ╪╣┘Ж ╪г┘В╪▒╪и ╪╡╪▒╪з┘Б',
    open_map: '╪з┘Б╪к╪н ┘Б┘К Google Maps'
  },
  en: {
    welcome: 'Welcome to Bayan Salary',
    desc: 'Service provided by ANB National Bank',
    home: 'Home',
    account: 'Account',
    transfer: 'Transfer',
    salary: 'Salary',
    atm: 'ATM',
    support: 'Support',
    back: 'Back',
    update: 'Update',
    confirm: 'Confirm Transfer',
    transfer_money: 'Transfer money',
    recipient: 'Recipient:',
    amount: 'Amount (SAR):',
    note: 'Note:',
    date: 'Date',
    desc: 'Description',
    amount_col: 'Amount (SAR)',
    salary_transfer: 'Salary Transfer',
    electricity_bill: 'Electricity Bill',
    water_bill: 'Water Bill',
    fuel_purchase: 'Fuel Purchase',
    restaurant_purchase: 'Restaurant Purchase',
    balance: 'Account Balance:',
    phone: 'Phone: 0551764832',
    email: 'Email: raa7240@gmail.com',
    address: 'Riyadh, King Fahd Street',
    account_desc: 'View your balance and transaction details',
    transfer_desc: 'Transfer money easily and securely',
    salary_desc: 'How many days left until salary?',
    atm_desc: 'Find the nearest ATM',
    support_desc: 'We are here for you',
    atm_desc2: 'We show you the nearest ANB branches',
    sara: 'Sara',
    raghd: 'Raghad',
    jawhara: 'Jawhara',
    find_atm: 'Find Nearest ATM',
    open_map: 'Open in Google Maps'
  },
  fr: {
    welcome: 'Bienvenue sur Bayan Salary',
    desc: 'Service fourni par ANB Banque Nationale',
    home: 'Accueil',
    account: 'Compte',
    transfer: 'Transfert',
    salary: 'Salaire',
    atm: 'Distributeur',
    support: 'Support',
    back: 'Retour',
    update: 'Mettre ├а jour',
    confirm: 'Confirmer le transfert',
    transfer_money: 'Transfert d\'argent',
    recipient: 'Destinataire :',
    amount: 'Montant (SAR) :',
    note: 'Note :',
    date: 'Date',
    desc: 'Description',
    amount_col: 'Montant (SAR)',
    salary_transfer: 'Virement salaire',
    electricity_bill: 'Facture d\'├йlectricit├й',
    water_bill: 'Facture d\'eau',
    fuel_purchase: 'Achat de carburant',
    restaurant_purchase: 'Achat au restaurant',
    balance: 'Solde du compte :',
    phone: 'T├йl├йphone : 0551764832',
    email: 'Courriel : raa7240@gmail.com',
    address: 'Riyadh, rue du roi Fahd',
    account_desc: 'Afficher votre solde et d├йtails des transactions',
    transfer_desc: 'Transf├йrer de l\'argent facilement et en toute s├йcurit├й',
    salary_desc: 'Combien de jours restent avant le salaire ?',
    atm_desc: 'Trouvez le distributeur le plus proche',
    support_desc: 'Nous sommes l├а pour vous',
    atm_desc2: 'Nous vous montrons les succursales ANB les plus proches',
    sara: 'Sarah',
    raghd: 'Raghad',
    jawhara: 'Jawhara',
    find_atm: 'Trouver le distributeur le plus proche',
    open_map: 'Ouvrir dans Google Maps'
  },
  hi: {
    welcome: 'рдмреЗрдпрд╛рди рд╕реИрд▓рд░реА рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ',
    desc: 'рдПрдПрдирдмреА рдиреЗрд╢рдирд▓ рдмреИрдВрдХ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рд╕реЗрд╡рд╛',
    home: 'рд╣реЛрдо',
    account: 'рдЦрд╛рддрд╛',
    transfer: 'рдЯреНрд░рд╛рдВрд╕рдлрд░',
    salary: 'рд╡реЗрддрди',
    atm: 'рдПрдЯреАрдПрдо',
    support: 'рд╕рд╣рд╛рдпрддрд╛',
    back: 'рд╡рд╛рдкрд╕',
    update: 'рдЕрджреНрдпрддрди рдХрд░реЗрдВ',
    confirm: 'рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ',
    transfer_money: 'рдзрди рдЯреНрд░рд╛рдВрд╕рдлрд░',
    recipient: 'рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛:',
    amount: 'рд░рд╛рд╢рд┐ (SAR):',
    note: 'рдиреЛрдЯ:',
    date: 'рддрд╛рд░реАрдЦ',
    desc: 'рд╡рд┐рд╡рд░рдг',
    amount_col: 'рд░рд╛рд╢рд┐ (SAR)',
    salary_transfer: 'рд╡реЗрддрди рдЯреНрд░рд╛рдВрд╕рдлрд░',
    electricity_bill: 'рдмрд┐рдЬрд▓реА рдмрд┐рд▓',
    water_bill: 'рдкрд╛рдиреА рдХрд╛ рдмрд┐рд▓',
    fuel_purchase: 'рдИрдВрдзрди рдЦрд░реАрдж',
    restaurant_purchase: 'рд░реЗрд╕реНрддрд░рд╛рдВ рдореЗрдВ рдЦрд░реАрдж',
    balance: 'рдЦрд╛рддрд╛ рд╢реЗрд╖:',
    phone: 'рдлрд╝реЛрди: 0551764832',
    email: 'рдИрдореЗрд▓: raa7240@gmail.com',
    address: 'рд░рд┐рдпрд╛рдж, рдХрд┐рдВрдЧ рдлрд╝рд╛рд╣рдж рд╕реНрдЯреНрд░реАрдЯ',
    account_desc: 'рдЕрдкрдирд╛ рд╢реЗрд╖ рд░рд╛рд╢рд┐ рдФрд░ рд▓реЗрдирджреЗрди рд╡рд┐рд╡рд░рдг рджреЗрдЦреЗрдВ',
    transfer_desc: 'рдЖрд╕рд╛рдиреА рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд╕рд╛рде рдкреИрд╕рд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░реЗрдВ',
    salary_desc: 'рд╡реЗрддрди рдЖрдиреЗ рдореЗрдВ рдХрд┐рддрдиреЗ рджрд┐рди рдмрдЪреЗ рд╣реИрдВ?',
    atm_desc: 'рдирд┐рдХрдЯрддрдо рдПрдЯреАрдПрдо рдЦреЛрдЬреЗрдВ',
    support_desc: 'рд╣рдо рдЖрдкрдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реИрдВ',
    atm_desc2: 'рд╣рдо рдЖрдкрдХреЛ рдирд┐рдХрдЯрддрдо рдПрдПрдирдмреА рд╢рд╛рдЦрд╛рдПрдВ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ',
    sara: 'рд╕рд╛рд░рд╛',
    raghd: 'рд░рдШрдж',
    jawhara: 'рдЬрд╡рд╣рд░рд╛',
    find_atm: 'рдирд┐рдХрдЯрддрдо рдПрдЯреАрдПрдо рдЦреЛрдЬреЗрдВ',
    open_map: 'Google Maps рдореЗрдВ рдЦреЛрд▓реЗрдВ'
  },
  ur: {
    welcome: '╪и█М╪з┘Ж ╪│█М┘Д╪▒█М ┘Е█М┌║ ╪о┘И╪┤ ╪в┘Е╪п█М╪п',
    desc: '╪з█М┘Ж ╪и█М ╪з█М┘Ж ╪и█М┘Ж┌й ┘В┘И┘Е█М ┌й█М ╪╖╪▒┘Б ╪│█Т ┘Б╪▒╪з█Б┘Е ┌й╪▒╪п█Б ╪│╪▒┘И╪│',
    home: '█Б┘И┘Е',
    account: '╪з┌й╪з╪д┘Ж┘╣',
    transfer: '┘Е┘Ж╪к┘В┘Д ┌й╪▒█М┌║',
    salary: '╪к┘Ж╪о┘И╪з█Б',
    atm: '╪з█Т ┘╣█М ╪з█М┘Е',
    support: '┘Е╪п╪п',
    back: '┘И╪з┘╛╪│',
    update: '╪з┘╛ ┌И█М┘╣ ┌й╪▒█М┌║',
    confirm: '┘Е┘Ж╪к┘В┘Д█М ┌й█М ╪к╪╡╪п█М┘В ┌й╪▒█М┌║',
    transfer_money: '┘╛█М╪│█Б ┘Е┘Ж╪к┘В┘Д ┌й╪▒█М┌║',
    recipient: '┘И╪╡┘И┘Д ┌й┘Ж┘Ж╪п█Б:',
    amount: '╪▒┘В┘Е (╪▒.╪│):',
    note: '┘Ж┘И┘╣:',
    date: '╪к╪з╪▒█М╪о',
    desc: '╪к┘Б╪╡█М┘Д',
    amount_col: '╪▒┘В┘Е (╪▒.╪│)',
    salary_transfer: '╪к┘Ж╪о┘И╪з█Б ┌й╪з ┘Е┘Ж╪к┘В┘Д█М',
    electricity_bill: '╪и╪м┘Д█М ┌й╪з ╪и┘Д',
    water_bill: '┘╛╪з┘Ж█М ┌й╪з ╪и┘Д',
    fuel_purchase: '╪з█М┘Ж╪п┌╛┘Ж ╪о╪▒█М╪п',
    restaurant_purchase: '╪▒█М╪│╪к┘И╪▒╪з┘Ж ┘Е█М┌║ ╪о╪▒█М╪п',
    balance: '╪з┌й╪з╪д┘Ж┘╣ ╪и█М┘Д┘Ж╪│:',
    phone: '┘Б┘И┘Ж: 0551764832',
    email: '╪з█М ┘Е█М┘Д: raa7240@gmail.com',
    address: '╪▒█М╪з╪╢╪М ┌й┘Ж┌п ┘Б█Б╪п ╪│┘╣╪▒█М┘╣',
    account_desc: '╪з┘╛┘Ж╪з ╪и█М┘Д┘Ж╪│ ╪з┘И╪▒ ┘Д█М┘Ж ╪п█М┘Ж ┌й█М ╪к┘Б╪╡█М┘Д╪з╪к ╪п█М┌й┌╛█М┌║',
    transfer_desc: '╪в╪│╪з┘Ж█М ╪з┘И╪▒ ┘Е╪н┘Б┘И╪╕ ╪╖╪▒█М┘В█Т ╪│█Т ╪▒┘В┘Е ┘Е┘Ж╪к┘В┘Д ┌й╪▒█М┌║',
    salary_desc: '╪к┘Ж╪о┘И╪з█Б ╪в┘Ж█Т ┘Е█М┌║ ┌й╪к┘Ж█Т ╪п┘Ж ╪и╪з┘В█М █Б█М┌║╪Я',
    atm_desc: '┘В╪▒█М╪и ╪к╪▒█М┘Ж ╪з█Т ┘╣█М ╪з█М┘Е ╪к┘Д╪з╪┤ ┌й╪▒█М┌║',
    support_desc: '█Б┘Е ╪в┘╛ ┌й█Т ┘Д█М█Т █М█Б╪з┌║ █Б█М┌║',
    atm_desc2: '█Б┘Е ╪в┘╛ ┌й┘И ┘В╪▒█М╪и ╪к╪▒█М┘Ж ╪з█Т ╪з█М┘Ж ╪и█М ╪┤╪з╪о█М┌║ ╪п┌й┌╛╪з╪к█Т █Б█М┌║',
    sara: '╪│╪з╪▒█Б',
    raghd: '╪▒╪║╪п',
    jawhara: '╪м┘И┘З╪▒█Б',
    find_atm: '┘В╪▒█М╪и ╪к╪▒█М┘Ж ╪з█Т ┘╣█М ╪з█М┘Е ╪к┘Д╪з╪┤ ┌й╪▒█М┌║',
    open_map: '┌п┘И┌п┘Д ┘Е█М┘╛╪│ ┘Е█М┌║ ┌й┌╛┘И┘Д█М┌║'
  },
  es: {
    welcome: 'Bienvenido a Bayan Salary',
    desc: 'Servicio proporcionado por ANB Banco Nacional',
    home: 'Inicio',
    account: 'Cuenta',
    transfer: 'Transferir',
    salary: 'Salario',
    atm: 'Cajero',
    support: 'Soporte',
    back: 'Volver',
    update: 'Actualizar',
    confirm: 'Confirmar transferencia',
    transfer_money: 'Transferir dinero',
    recipient: 'Destinatario:',
    amount: 'Monto (SAR):',
    note: 'Nota:',
    date: 'Fecha',
    desc: 'Descripci├│n',
    amount_col: 'Monto (SAR)',
    salary_transfer: 'Transferencia de salario',
    electricity_bill: 'Factura de electricidad',
    water_bill: 'Factura de agua',
    fuel_purchase: 'Compra de combustible',
    restaurant_purchase: 'Compra en restaurante',
    balance: 'Saldo de la cuenta:',
    phone: 'Tel├йfono: 0551764832',
    email: 'Correo: raa7240@gmail.com',
    address: 'Riad, calle King Fahd',
    account_desc: 'Ver saldo y detalles de transacciones',
    transfer_desc: 'Transferir dinero f├бcil y seguro',
    salary_desc: '┬┐Cu├бntos d├нas faltan para el salario?',
    atm_desc: 'Encuentra el cajero m├бs cercano',
    support_desc: 'Estamos aqu├н para ti',
    atm_desc2: 'Te mostramos las sucursales ANB m├бs cercanas',
    sara: 'Sara',
    raghd: 'Raghad',
    jawhara: 'Jawhara',
    find_atm: 'Encontrar cajero m├бs cercano',
    open_map: 'Abrir en Google Maps'
  }
};

// --- ╪к╪║┘К┘К╪▒ ╪з┘Д┘Д╪║╪й ---
function changeLanguage(lang) {
  document.querySelectorAll('[data-tr]').forEach(el => {
    const key = el.getAttribute('data-tr');
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });
  document.getElementById('html').lang = lang;
  if (lang === 'ar') {
    document.getElementById('html').dir = 'rtl';
    document.body.style.fontFamily = "'Cairo', sans-serif";
  } else {
    document.getElementById('html').dir = 'ltr';
    document.body.style.fontFamily = "'Roboto', sans-serif";
  }
}

// --- ┘В╪з╪▒╪ж ╪╡┘И╪к┘К ---
function speak(key) {
  const text = document.querySelector(`[data-tr="${key}"]`)?.innerText || key;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = document.getElementById('html').lang === 'ar' ? 'ar-SA' :
                   document.getElementById('html').lang === 'en' ? 'en-US' :
                   document.getElementById('html').lang === 'fr' ? 'fr-FR' :
                   document.getElementById('html').lang === 'hi' ? 'hi-IN' :
                   document.getElementById('html').lang === 'ur' ? 'ur-PK' :
                   'es-ES';
  speechSynthesis.speak(utterance);
}

// --- ╪з┘Д╪к╪н┘Г┘Е ┘Б┘К ╪з┘Д┘И╪╢╪╣ ╪з┘Д┘Д┘К┘Д┘К ---
const body = document.body;
const themeToggle = document.getElementById('theme-toggle');
themeToggle.addEventListener('click', () => {
  body.classList.toggle('dark-mode');
  themeToggle.textContent = body.classList.contains('dark-mode') ? '╪з┘Д┘И╪╢╪╣ ╪з┘Д┘Ж┘З╪з╪▒┘К' : '╪з┘Д┘И╪╢╪╣ ╪з┘Д┘Д┘К┘Д┘К';
});

// --- ╪╣╪▒╪╢ ╪з┘Д┘В╪│┘Е ---
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => {
    sec.classList.remove('active');
    sec.style.display = 'none';
  });
  const section = document.getElementById(id);
  if (section) {
    section.classList.add('active');
    section.style.display = 'block';
  }
  if (id === 'salary') updateCountdown();
  if (id === 'atm') initMap();
}

// --- ╪з┘Д╪╣╪п ╪з┘Д╪к┘Ж╪з╪▓┘Д┘К ┘Д┘Д╪▒╪з╪к╪и ---
function updateCountdown() {
  const now = new Date();
  let salaryDate = new Date(now.getFullYear(), 7, 27);
  if (now > salaryDate) salaryDate = new Date(now.getFullYear() + 1, 7, 27);
  const diff = salaryDate - now;
  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const el = document.getElementById('countdown');
  const lang = document.getElementById('html').lang;
  if (days > 0) {
    el.innerHTML = lang === 'ar' ? `тП│ ╪и┘В┘К <strong>${days}</strong> ┘К┘И┘Е ╪╣┘Д┘Й ╪▒╪з╪к╪и┘Г (27 ╪г╪║╪│╪╖╪│)` :
                   lang === 'en' ? `тП│ <strong>${days}</strong> days until your salary (August 27)` :
                   lang === 'fr' ? `тП│ <strong>${days}</strong> jours avant votre salaire (27 ao├╗t)` :
                   lang === 'hi' ? `тП│ рдЖрдкрдХреЗ рд╡реЗрддрди рдореЗрдВ <strong>${days}</strong> рджрд┐рди рд╢реЗрд╖ (27 рдЕрдЧрд╕реНрдд)` :
                   lang === 'ur' ? `тП│ ╪в┘╛ ┌й█Т ╪к┘Ж╪о┘И╪з█Б ╪к┌й <strong>${days}</strong> ╪п┘Ж ╪и╪з┘В█М (27 ╪з┌п╪│╪к)` :
                   `тП│ <strong>${days}</strong> d├нas hasta su salario (27 de agosto)`;
  } else if (days === 0) {
    el.innerHTML = lang === 'ar' ? 'ЁЯОЙ ╪▒╪з╪к╪и┘Г ╪з┘Д┘К┘И┘Е! ┘Е╪и╪▒┘И┘Г ЁЯОЙ' :
                   lang === 'en' ? 'ЁЯОЙ Salary day! Congratulations ЁЯОЙ' :
                   'ЁЯОЙ Jour de salaire ! F├йlicitations ЁЯОЙ';
  } else {
    el.innerHTML = lang === 'ar' ? '╪к┘Е ╪з╪│╪к┘Д╪з┘Е ╪з┘Д╪▒╪з╪к╪и.' : 'Salary received.';
  }
}

// --- ┘Б╪к╪н ┘Ж┘Е┘И╪░╪м ╪з┘Д╪к╪н┘И┘К┘Д ---
function openTransferForm(name, img) {
  document.getElementById('recipient-name').textContent = name;
  showSection('transfer-form');
}

// --- ╪к╪г┘Г┘К╪п ╪з┘Д╪к╪н┘И┘К┘Д ---
function confirmTransfer() {
  const amount = document.getElementById('amount').value;
  const phone = prompt('╪г╪п╪о┘Д ╪▒┘В┘Е ╪з┘Д╪м┘И╪з┘Д ┘Д╪к╪г┘Г┘К╪п ╪з┘Д╪к╪н┘И┘К┘Д:');
  if (!phone) {
    alert('╪з┘Д╪▒╪м╪з╪б ╪е╪п╪о╪з┘Д ╪▒┘В┘Е ╪з┘Д╪м┘И╪з┘Д');
    return;
  }

  // ┘Е╪н╪з┘Г╪з╪й ╪е╪▒╪│╪з┘Д ╪▒┘Е╪▓ SMS
  const otp = Math.floor(100000 + Math.random() * 900000).toString();
  console.log('╪▒┘Е╪▓ ╪з┘Д╪к╪н┘В┘В (┘Д┘Д╪з╪о╪к╪и╪з╪▒):', otp);
  const userOtp = prompt(`╪к┘Е ╪е╪▒╪│╪з┘Д ╪▒┘Е╪▓ ╪е┘Д┘Й ${phone}\n╪з┘Д╪▒┘Е╪▓: ${otp}\n╪г╪п╪о┘Д ╪з┘Д╪▒┘Е╪▓ ┘Д┘Д╪к╪г┘Г┘К╪п:`);

  if (userOtp === otp) {
    alert(`╪к┘Е ╪з┘Д╪к╪н┘И┘К┘Д ╪и┘Ж╪м╪з╪н ╪и┘Е╪и┘Д╪║ ${amount} ╪▒.╪│`);
    window.location.href = 'api.html';
  } else {
    alert('╪з┘Д╪▒┘Е╪▓ ╪║┘К╪▒ ╪╡╪н┘К╪н');
  }
}

// --- ╪з┘Д╪о╪▒┘К╪╖╪й ---
let map;
function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    zoom: 14,
    center: { lat: 24.7136, lng: 46.6753 },
  });
  new google.maps.Marker({
    position: { lat: 24.7136, lng: 46.6753 },
    map: map,
    title: "┘Б╪▒╪╣ ANB - ╪з┘Д╪▒┘К╪з╪╢",
  });
}

// --- ╪з┘Д╪и╪н╪л ╪╣┘Ж ╪г┘В╪▒╪и ╪╡╪▒╪з┘Б ---
function findNearestATM() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(position => {
      const pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      map.setCenter(pos);
      new google.maps.Marker({
        position: pos,
        map: map,
        title: "┘Е┘И┘В╪╣┘Г ╪з┘Д╪н╪з┘Д┘К",
        icon: "http://maps.google.com/mapfiles/ms/micons/blue-dot.png"
      });
    }, () => {
      alert("┘К╪▒╪м┘Й ╪к┘Б╪╣┘К┘Д ╪з┘Д┘Е┘И┘В╪╣ ┘Д┘Д╪и╪н╪л ╪╣┘Ж ╪г┘В╪▒╪и ╪╡╪▒╪з┘Б.");
    });
  } else {
    alert("╪з┘Д┘Е╪к╪╡┘Б╪н ┘Д╪з ┘К╪п╪╣┘Е ╪к╪н╪п┘К╪п ╪з┘Д┘Е┘И┘В╪╣.");
  }
}

// --- ╪╣┘Ж╪п ╪з┘Д╪к╪н┘Е┘К┘Д ---
window.onload = () => {
  changeLanguage('ar');
  showSection('home');
};